{
  "test_metadata": {
    "generated_at": "2025-08-07T21:54:03.252590Z",
    "base_url": "http://localhost:8000",
    "websocket_url": "ws://localhost:8000",
    "test_email": "test@arketic.com",
    "test_chat_id": null,
    "total_tests": 7,
    "successful_tests": 6,
    "failed_tests": 1,
    "success_rate_percent": 85.71,
    "average_duration_ms": 32.74,
    "tested_features": [
      "Chat Creation",
      "Chat Listing",
      "Chat History Retrieval",
      "Typing Indicators",
      "Participant Management",
      "System Statistics",
      "Production AI Chat (Non-streaming)",
      "Production AI Chat (Streaming)",
      "LangChain Service Health Check",
      "LangChain Service Integration Test",
      "Services Status Monitoring",
      "Circuit Breaker Pattern",
      "Service Fallback Mechanism",
      "WebSocket Communication"
    ]
  },
  "rest_api_summary": {
    "total_calls": 7,
    "successful_calls": 6,
    "failed_calls": 1,
    "success_rate_percent": 85.71,
    "average_duration_ms": 32.74
  },
  "websocket_summary": {
    "total_tests": 0,
    "successful_tests": 0,
    "failed_tests": 0,
    "success_rate_percent": 0
  },
  "endpoint_summary": {
    "/api/v1/auth/login": {
      "total_calls": 1,
      "successful_calls": 1,
      "failed_calls": 0,
      "avg_duration_ms": 189.29
    },
    "/api/v1/chat/chats": {
      "total_calls": 1,
      "successful_calls": 0,
      "failed_calls": 1,
      "avg_duration_ms": 10.42
    },
    "/api/v1/chat/chats?limit=10&offset=0": {
      "total_calls": 1,
      "successful_calls": 1,
      "failed_calls": 0,
      "avg_duration_ms": 11.11
    },
    "/api/v1/chat/stats": {
      "total_calls": 1,
      "successful_calls": 1,
      "failed_calls": 0,
      "avg_duration_ms": 2.42
    },
    "/api/v1/chat/langchain/health": {
      "total_calls": 1,
      "successful_calls": 1,
      "failed_calls": 0,
      "avg_duration_ms": 5.07
    },
    "/api/v1/chat/langchain/test": {
      "total_calls": 1,
      "successful_calls": 1,
      "failed_calls": 0,
      "avg_duration_ms": 6.08
    },
    "/api/v1/chat/services/status": {
      "total_calls": 1,
      "successful_calls": 1,
      "failed_calls": 0,
      "avg_duration_ms": 4.82
    }
  },
  "detailed_rest_results": [
    {
      "endpoint": "/api/v1/auth/login",
      "method": "POST",
      "payload": {
        "email": "test@arketic.com",
        "password": "testpass123",
        "remember_me": false
      },
      "headers": {
        "Content-Type": "application/json"
      },
      "response_status": 200,
      "response_body": {
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "refresh_token": "ar7cB2a9GKo2HU866_pAURWvbtmmJELf551pgiUri9g",
        "token_type": "bearer",
        "expires_in": 1800,
        "user": {
          "id": "f2da9a18-7281-49de-956d-63473c24b4df",
          "email": "test@arketic.com",
          "username": "testuser",
          "first_name": "Test",
          "last_name": "User",
          "role": "user",
          "is_verified": true
        }
      },
      "response_text": "{\"access_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw\",\"refresh_token\":\"ar7cB2a9GKo2HU866_pAURWvbtmmJELf551pgiUri9g\",\"token_type\":\"bearer\",\"expires_in\":1800,\"user\":{\"id\":\"f2da9a18-7281-49de-956d-63473c24b4df\",\"email\":\"test@arketic.com\",\"username\":\"testuser\",\"first_name\":\"Test\",\"last_name\":\"User\",\"role\":\"user\",\"is_verified\":true}}",
      "timestamp": "2025-08-07T21:53:57.206036Z",
      "duration_ms": 189.29,
      "success": true,
      "error_message": null,
      "test_type": "REST_API"
    },
    {
      "endpoint": "/api/v1/chat/chats",
      "method": "POST",
      "payload": {
        "title": "Test Chat 1754603637",
        "description": "Automated test chat for API testing",
        "chat_type": "direct",
        "ai_model": "gpt-3.5-turbo",
        "ai_persona": "helpful assistant",
        "system_prompt": "You are a helpful AI assistant for testing.",
        "temperature": 0.7,
        "max_tokens": 2048,
        "is_private": false,
        "tags": [
          "test",
          "automation",
          "api"
        ]
      },
      "headers": {
        "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "Content-Type": "application/json"
      },
      "response_status": 500,
      "response_body": {
        "detail": "Failed to create chat"
      },
      "response_text": "{\"detail\":\"Failed to create chat\"}",
      "timestamp": "2025-08-07T21:53:57.717045Z",
      "duration_ms": 10.42,
      "success": false,
      "error_message": "Unexpected status code. Expected: [200, 401], Got: 500",
      "test_type": "REST_API"
    },
    {
      "endpoint": "/api/v1/chat/chats?limit=10&offset=0",
      "method": "GET",
      "payload": null,
      "headers": {
        "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "Content-Type": "application/json"
      },
      "response_status": 200,
      "response_body": [],
      "response_text": "[]",
      "timestamp": "2025-08-07T21:53:58.229084Z",
      "duration_ms": 11.11,
      "success": true,
      "error_message": null,
      "test_type": "REST_API"
    },
    {
      "endpoint": "/api/v1/chat/stats",
      "method": "GET",
      "payload": null,
      "headers": {
        "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "Content-Type": "application/json"
      },
      "response_status": 200,
      "response_body": {
        "websocket_connections": {
          "total_connections": 0,
          "active_chats": 0,
          "connections_per_chat": {}
        },
        "system_status": "operational",
        "timestamp": "2025-08-07T21:54:00.232165"
      },
      "response_text": "{\"websocket_connections\":{\"total_connections\":0,\"active_chats\":0,\"connections_per_chat\":{}},\"system_status\":\"operational\",\"timestamp\":\"2025-08-07T21:54:00.232165\"}",
      "timestamp": "2025-08-07T21:54:00.233195Z",
      "duration_ms": 2.42,
      "success": true,
      "error_message": null,
      "test_type": "REST_API"
    },
    {
      "endpoint": "/api/v1/chat/langchain/health",
      "method": "GET",
      "payload": null,
      "headers": {
        "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "Content-Type": "application/json"
      },
      "response_status": 200,
      "response_body": {
        "success": true,
        "message": "LangChain service health check completed",
        "data": {
          "service_health": {
            "status": "healthy",
            "response_time_ms": 3.0,
            "circuit_breaker_state": "CLOSED",
            "failure_count": 0,
            "service_url": "http://langchain:3001"
          },
          "circuit_breaker": {
            "state": "CLOSED",
            "failure_count": 0,
            "failure_threshold": 5,
            "timeout_seconds": 60,
            "last_failure_time": null
          },
          "integration_status": "active",
          "fallback_available": true
        },
        "timestamp": "2025-08-07T21:54:01.738733"
      },
      "response_text": "{\"success\":true,\"message\":\"LangChain service health check completed\",\"data\":{\"service_health\":{\"status\":\"healthy\",\"response_time_ms\":3.0,\"circuit_breaker_state\":\"CLOSED\",\"failure_count\":0,\"service_url\":\"http://langchain:3001\"},\"circuit_breaker\":{\"state\":\"CLOSED\",\"failure_count\":0,\"failure_threshold\":5,\"timeout_seconds\":60,\"last_failure_time\":null},\"integration_status\":\"active\",\"fallback_available\":true},\"timestamp\":\"2025-08-07T21:54:01.738733\"}",
      "timestamp": "2025-08-07T21:54:01.739709Z",
      "duration_ms": 5.07,
      "success": true,
      "error_message": null,
      "test_type": "REST_API"
    },
    {
      "endpoint": "/api/v1/chat/langchain/test",
      "method": "POST",
      "payload": {
        "message": "Hello LangChain! This is a test message at 2025-08-07T21:54:02.240386. Please respond briefly to confirm the service is working.",
        "model": "gpt-3.5-turbo",
        "temperature": 0.7,
        "system_prompt": "You are testing the LangChain service integration. Please respond briefly to confirm you received this test message."
      },
      "headers": {
        "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "Content-Type": "application/json"
      },
      "response_status": 400,
      "response_body": {
        "detail": "OpenAI API key not configured. Please set up your API key in Settings first."
      },
      "response_text": "{\"detail\":\"OpenAI API key not configured. Please set up your API key in Settings first.\"}",
      "timestamp": "2025-08-07T21:54:02.246500Z",
      "duration_ms": 6.08,
      "success": true,
      "error_message": null,
      "test_type": "REST_API"
    },
    {
      "endpoint": "/api/v1/chat/services/status",
      "method": "GET",
      "payload": null,
      "headers": {
        "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0QGFya2V0aWMuY29tIiwidXNlcl9pZCI6ImYyZGE5YTE4LTcyODEtNDlkZS05NTZkLTYzNDczYzI0YjRkZiIsImVtYWlsIjoidGVzdEBhcmtldGljLmNvbSIsInVzZXJuYW1lIjoidGVzdHVzZXIiLCJyb2xlcyI6WyJ1c2VyIl0sInBlcm1pc3Npb25zIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGU6dXBkYXRlIiwicHJlZmVyZW5jZXM6dXBkYXRlIl0sImV4cCI6MTc1NDYwNTQzN30._o8NtKrAKCkajiP30YgOihslYPZP-ibucoAC70y5pzw",
        "Content-Type": "application/json"
      },
      "response_status": 200,
      "response_body": {
        "success": true,
        "message": "Services status check completed",
        "data": {
          "langchain_service": {
            "health": {
              "status": "healthy",
              "response_time_ms": 2.0,
              "circuit_breaker_state": "CLOSED",
              "failure_count": 0,
              "service_url": "http://langchain:3001"
            },
            "circuit_breaker": {
              "state": "CLOSED",
              "failure_count": 0,
              "failure_threshold": 5,
              "timeout_seconds": 60,
              "last_failure_time": null
            },
            "base_url": "http://langchain:3001"
          },
          "websocket_manager": {
            "status": "operational",
            "connections": {
              "total_connections": 0,
              "active_chats": 0,
              "connections_per_chat": {}
            }
          },
          "fallback_services": {
            "direct_openai": {
              "status": "available",
              "description": "Direct OpenAI API integration for fallback"
            }
          },
          "integration_features": {
            "circuit_breaker": "enabled",
            "automatic_fallback": "enabled",
            "streaming_support": "enabled",
            "health_monitoring": "enabled"
          }
        },
        "timestamp": "2025-08-07T21:54:02.750691"
      },
      "response_text": "{\"success\":true,\"message\":\"Services status check completed\",\"data\":{\"langchain_service\":{\"health\":{\"status\":\"healthy\",\"response_time_ms\":2.0,\"circuit_breaker_state\":\"CLOSED\",\"failure_count\":0,\"service_url\":\"http://langchain:3001\"},\"circuit_breaker\":{\"state\":\"CLOSED\",\"failure_count\":0,\"failure_threshold\":5,\"timeout_seconds\":60,\"last_failure_time\":null},\"base_url\":\"http://langchain:3001\"},\"websocket_manager\":{\"status\":\"operational\",\"connections\":{\"total_connections\":0,\"active_chats\":0,\"connections_per_chat\":{}}},\"fallback_services\":{\"direct_openai\":{\"status\":\"available\",\"description\":\"Direct OpenAI API integration for fallback\"}},\"integration_features\":{\"circuit_breaker\":\"enabled\",\"automatic_fallback\":\"enabled\",\"streaming_support\":\"enabled\",\"health_monitoring\":\"enabled\"}},\"timestamp\":\"2025-08-07T21:54:02.750691\"}",
      "timestamp": "2025-08-07T21:54:02.751969Z",
      "duration_ms": 4.82,
      "success": true,
      "error_message": null,
      "test_type": "REST_API"
    }
  ],
  "detailed_websocket_results": []
}